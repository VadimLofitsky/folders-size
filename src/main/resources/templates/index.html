<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Folders' size</title>

    <link rel="stylesheet" href="fontawesome/css/all.css">

    <link rel="stylesheet" href="css/font.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/anim-rotation.css">
    <link rel="stylesheet" href="css/anim-fade-in-out.css">
    <link rel="stylesheet" href="css/anim-fadeOut.css">
    <link rel="stylesheet" href="css/anim-exiting.css">

    <script src="js/index.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/exit-button.js"></script>
    <script src="js/fragmentary-path.js"></script>
</head>

<body>
<div id="header"
     th:attr="data-path=${path}">
    <div id="logo">
        <i class="logo fas fa-stream"></i>
        <i class="fas fa-lg fa-balance-scale-left balance-scale-hidden"></i>
        <i class="fas fa-lg fa-balance-scale balance-scale-hidden"></i>
        <i class="fas fa-lg fa-balance-scale-right balance-scale-hidden"></i>
        <i class="fas fa-lg fa-balance-scale balance-scale-hidden"></i>
    </div>
    <div id="exitButton">
        <i class="far fa-times-circle"
           onmouseenter="exitButtonMouseEnter()"
           onmouseleave="exitButtonMouseLeave()"
           onclick="exitButtonClick()"></i>
    </div>
</div>
    <table id="filesShow" align="center">
        <tr>
            <td></td>
            <td id="pathShow"
                colspan="3">
                <span th:text="${path}" />
                <span th:text="${pathSize}" />
                <span th:text="${duration}"
                      style="font-size: smaller; font-style: italic" />
            </td>
            <td></td>
        </tr>
        <tr id="legend">
            <td><i class="far fa-folder fa-xs"></i> / <i class="far fa-file-alt fa-xs"></i></td>
            <td>Filename</td>
            <td class="file-size">Ratio to parent size</td>
            <td>Size</td>
            <td>Size in bytes</td>
        </tr>
        <tr th:attr="data-path=${parentPath}">
            <td colspan="5">..</td>
        </tr>
        <tr th:each="file : ${filesList}" th:attr="data-path=${file.getPath()}">
            <td class="file-type">
                <i th:classappend="${file.isFolder() ? 'far fa-folder' : 'far fa-file-alt'}"></i>
            </td>
            <td class="file-name"
                th:text="${file.getShortName()}"
                th:classappend="${file.isFolder() ? 'is-folder' : 'is-file'}"
                th:style="${'background: linear-gradient(to right, red, transparent ' + (100*file.getRatioToParent()) + '%);'}"></td>
            <td class="file-size-ratio" th:text="${#numbers.formatPercent(file.getRatioToParent(), 1, 2)}"></td>
            <td class="file-size-pretty" th:text="${file.getPrettyPrintedSize()}"></td>
            <td class="file-size" th:text="${file.getSize()!=-1 ? file.getSize() : ''}"></td>
        </tr>
    </table>
</body>
</html>